<p>/*<br> * main.c<br> *<br> *  Created on: Oct 26, 2015<br> *      Author: kevin<br> */<br><br>#include &lt;stdio.h&gt;<br>#include &lt;pwd.h&gt;<br>#include &lt;string.h&gt;<br>#include &lt;grp.h&gt;<br><br><br>struct passwd *getuserinfo(char *username);<br>struct group *getgroupinfo(long int groupid);<br>void displayusers();<br><br>int main()<br>{<br><br>    char *username[100];<br>    fgets(username, 100, stdin);<br>    getuserinfo(username);<br>    long int groupid;<br>    scanf("%d", &amp;groupid);<br>    getgroupinfo(groupid);<br>    displayusers();<br><br><br>    return 0;<br>}<br><br>struct passwd *getuserinfo(char *username)<br>{<br><br>      struct passwd *p;<br><br>      if ((p = getpwnam(username)) == NULL)<br>        perror("getpwnam() error");<br>      else<br>      {<br>        printf("getpwnam() returned the following info for user %s:\n", username);<br>        printf("  pw_name  : %s\n",       p-&gt;pw_name);<br>        printf("  pw_uid   : %d\n", (int) p-&gt;pw_uid);<br>        printf("  pw_gid   : %d\n", (int) p-&gt;pw_gid);<br>        printf("  pw_dir   : %s\n",       p-&gt;pw_dir);<br>        printf("  pw_shell : %s\n",       p-&gt;pw_shell);<br>      }<br>      return p;<br>}<br><br>struct group *getgroupinfo(long int groupid)<br>{<br><br>    struct group *grp;<br><br>    if ((grp = getgrgid(groupid)) != NULL)<br>        printf("gr_name : %s\n", grp-&gt;gr_name);<br>    else<br>        perror("getgrgid() error");<br><br>}<br><br>void displayusers()<br>{<br><br>    struct passwd *p;<br>    while((p = getpwent())) {<br>        printf("name: %s\n", p-&gt;pw_name);<br>        printf("id: %s\n", p-&gt;pw_uid);<br>    }<br><br>}</p>
