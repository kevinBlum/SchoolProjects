<p>/*<br> * main.c<br> *<br> *  Created on: Oct 26, 2015<br> *      Author: kevin<br> */<br><br>#include &lt;errno.h&gt;<br>#include &lt;stdio.h&gt;<br>#include &lt;unistd.h&gt;<br>#include &lt;stdlib.h&gt;<br>#include &lt;sys/types.h&gt;<br>#include &lt;sys/stat.h&gt;<br>#include &lt;string.h&gt;<br>#include &lt;fcntl.h&gt;<br>#include &lt;sys/procfs.h&gt;<br>#include &lt;sys/signal.h&gt;<br>#include &lt;sys/syscall.h&gt;<br>#include &lt;sys/param.h&gt;<br>#include &lt;dirent.h&gt;<br><br>//function declarations<br>void printPeriod();<br>void openFile();<br>void writeFile();<br><br>int main(int argc, char *argv[])<br>{<br><br>    //function calls<br>    printPeriod();<br>    openFile();<br>    writeFile();<br><br><br>    exit(EXIT_SUCCESS);<br><br>}<br><br><br>void printPeriod()<br>{<br>    //setting the buffer to null so it prints all statements immediately<br>    setbuf(stdout, NULL);<br>    int i = 0;<br><br>    //while statement to call printf for the period and sleep for a second<br>    while (i &lt; 11){<br><br>        printf(" . ");<br>        sleep(1);<br>        i++;<br><br>    }<br>}<br><br>void openFile()<br>{<br>    //variable fp used to open the file using fopen and error checking that it opened<br>    FILE *fp;<br>    fp = fopen ("testfile.txt", "r");<br>    if (fp == NULL) {<br>        perror("Error opening file: ");<br>    }<br><br>    //variables for the buffer and the size of each string<br>    char buffer[1024];<br>    char str[100];<br><br>    //setting the buffer using setvbuf to determine the size of the buffer<br>    setvbuf(stdout, buffer, _IOFBF, 1);<br><br>    //fgets used to read in all the text from a file 100 bytes at a time and print it to standard out<br>    while ( fgets (str, 100, fp)!=NULL )<br>       {<br>          puts(str);<br>       }<br><br>    fclose (fp);<br><br><br>}<br><br>void writeFile()<br>{<br>    //variable fp used to open the file using fopen and error checking that it opened<br>    FILE *fp;<br>    fp = fopen ("testfile.txt", "r+");<br>    if (fp == NULL) {<br>        perror("Error opening file: ");<br>    }<br><br>    //fputs used to output the stament to the file<br>    fputs("I love programming in C", fp);<br><br>    //fflush to clear the user buffer<br>    fflush(fp);<br>    fclose(fp);<br>}</p>
