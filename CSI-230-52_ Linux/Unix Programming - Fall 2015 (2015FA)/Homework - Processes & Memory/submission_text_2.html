<p>/*<br> * main.c<br> *<br> *  Created on: Oct 14, 2015<br> *      Author: Kevin Blum<br> */<br><br>#include &lt;ctype.h&gt;<br>#include &lt;stdio.h&gt;<br>#include &lt;stdlib.h&gt;<br>#include &lt;unistd.h&gt;<br>#include &lt;time.h&gt;<br><br>//function prototypes for test functions<br>int calloctest(int objectsize, int numberobjects, int numberoftests);<br>int allocatest(int objectsize, int numberobjects, int numberoftests);<br>int malloctest(int objectsize, int numberobjects, int numberoftests);<br><br>//global variables for clock timing<br>clock_t startClock;<br>clock_t endClock;<br>clock_t totalClock;<br><br>int main()<br>{<br><br>    printf("Kevin Blum - PID: ", getpid());<br>    printf(" - PPID: ", getppid());<br><br>    calloctest(3072, 2, 10);<br>    calloctest(1024, 2, 10);<br><br>    malloctest(3072, 2, 10);<br>    malloctest(1024, 2, 10);<br><br>    allocatest(3072, 2, 10);<br>    allocatest(1024, 2, 10);<br><br><br>return 0;<br>}<br><br>//function to test the efficiency of calloc memory allocation function<br>int calloctest(int objectsize, int numberobjects, int numberoftests)<br>{<br><br>    totalClock = NULL;<br>    int i = 0;<br>    do{<br><br>        startClock = clock();<br>        calloc(numberobjects, objectsize);<br>        endClock = clock();<br>        totalClock = totalClock + (startClock - endClock);<br>        i++;<br>    }while (i &lt; numberoftests);<br>    totalClock = (totalClock / numberoftests) * 1000;<br><br>    printf(totalClock, " milliseconds to allocate using calloc on average\n");<br><br>return 0;<br>}<br><br>//function to test the efficiency of alloca memory allocation function<br>int allocatest(int objectsize, int numberobjects, int numberoftests)<br>{<br><br>    totalClock = NULL;<br>    int i = 0;<br>    do{<br><br>        startClock = clock();<br>        alloca(objectsize*numberobjects);<br>        endClock = clock();<br>        totalClock = totalClock + (startClock - endClock);<br>        i++;<br>    }while (i &lt; numberoftests);<br>    totalClock = (totalClock / numberoftests) * 1000;<br><br>    printf(totalClock, " milliseconds to allocate using alloca on average\n");<br><br>return 0;<br><br>}<br><br>//function to test the efficiency of malloc memory allocation function<br>int malloctest(int objectsize, int numberobjects, int numberoftests)<br>{<br><br>    totalClock = NULL;<br>    int i = 0;<br>    do{<br><br>        startClock = clock();<br>        malloc(objectsize*numberobjects);<br>        endClock = clock();<br>        totalClock = totalClock + (startClock - endClock);<br>        i++;<br>    }while (i &lt; numberoftests);<br>    totalClock = (totalClock / numberoftests) * 1000;<br><br>    printf(totalClock, " milliseconds to allocate using malloc on average\n");<br><br>return 0;<br><br>}</p>
<p> </p>
<p>Each memory function operates different and has a different purpose. alloca is the fastest memory allocator but it comes at the risk of being very dangerous so the only logical time to use alloca would be in a situation in which speed was all the mattered for instance if you had a very, very large object that needed memory allocated very quickly, alloca would be the most effiicient at the expense of being risky. malloc is the next fastest and is slightly faster than calloc for a similar reason to alloca, malloc is a very safe option for the most part the only thing that malloc does to perform quicker is that when it creates the size in memory it leaves the memory locations uninitialized so it is slightly faster than calloc, generally speaking either is valid for most use though. calloc is very similar to malloc and is only slightly slower because when it allocates the memory space it initializes all memory locations to NULL which makes calloc by far the safest option for memory allocation, if you valued safety above all calloc would be the option to use and if you thought that the slight amount of time increase from malloc was worth it at the risk of a slight safety decrease then malloc would be the appropriate option.</p>
